<script type="text/javascript">
	$(document).ready(function(){
		$("#selectAll").click(function(){
			var checkbox = $(this);
			
			var children = checkbox.parents("table").find("tbody input[type='checkbox']");
			
			children.prop("checked",checkbox.is(":checked"));
		});
		
	});
</script>

<form id="user-insert-form" action="account/user/insert" method="post" class="form-row">
	<div class="panel">
	    <div class="panel-heading">
	        <h3 class="panel-title">创建用户</h3>
	    </div>
	    <div class="panel-content">
	    		<div class="form-group">
		   			<div class="row">
		    			<div class="col-lg-6">
							<label for="username">登录帐号:</label>
							<input type="text" class="form-control required" id="username" remote="account/user/isUsernameUnique" name="username" placeholder="登录帐号">
						</div>
						<div class="col-lg-6">
							<label for="realname">真实姓名:</label>
							<input type="text" class="form-control required" id="realname" name="realname" placeholder="真实姓名">
						</div>
		   			</div>
	   			</div>
	   			
	   			<div class="form-group">
		   			<div class="row">
		    			<div class="col-lg-6">
							<label for="password">登录密码:</label>
							<input type="password" class="form-control required" id="password" name="password" placeholder="登录密码">
						</div>
						<div class="col-lg-6">
							<label for="confirmPassword">确认密码:</label>
							<input type="password" class="form-control required" equalTo="#password" id="confirmPassword" name="confirmPassword" placeholder="确认密码">
						</div>
		   			</div>
	   			</div>
	   			
	   			<div class="form-group">
		   			<div class="row">
		    			<div class="col-lg-6">
							<label for="state">用户状态:</label>
							<select class="form-control" name="state">
								<#list states as d>
									<option value="${d.value}">${d.name}</option>
								</#list>
							</select>
						</div>
						<div class="col-lg-6">
							<label for="email">电子邮件:</label>
							<input type="text" class="form-control email" id="email" name="email" placeholder="电子邮件">
						</div>
		   			</div>
	   			</div>
	   			
	   			<div class="form-group">
		   			<div class="row">
		    			<div class="col-lg-12">
							
							<!-- 组表格 开始 -->
							<div class="panel">
							    <div class="panel-heading">
							        <h3 class="panel-title">用户所在组</h3>
							    </div>
							    <div class="panel-content">
							    	<table class="table table-hover table-striped">
							            <thead>
								            <tr>
								                <th>
													<input type="checkbox" id="selectAll"/>
								                </th>
								                <th>
													组名称
								                </th>
								                <th>
													描述
								                </th>
								            </tr>
								            </thead>
								            <tbody>
								            	<#list groupsList as l>
									            <tr>
									            	<td>
									                    <input type="checkbox" name="groupId"/>
									                </td>
									                <td>
									                    ${l.name!""}
									                </td>
									                <td>
									                	${l.remark!""}
									                </td>
									            </tr>
									            </#list>
								           </tbody>
								        </table>
							    </div>
							    <div class="panel-footer">
							    </div>
							</div>
							<!-- 组表格 结束 -->
							
						</div>
		   			</div>
	   			</div>
	    </div>
	    <div class="panel-footer">
	    	<button type="submit" class="btn btn-success">
	        	<i class="icon-glyphicons-halflings icon-white icon-file margin-right"></i><span>保存</span>
	        </button>
	        <button type="reset" class="btn btn-primary">
	        	<i class="icon-glyphicons-halflings icon-white icon-file margin-right"></i><span>重置</span>
	        </button>
	    </div>
	</div>
</form>